<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx/21" 
            xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="ro.facultate.sd.p2p.ui.MainController"
            prefHeight="700.0" prefWidth="1000.0"
            stylesheets="@styles.css">
    
    <!-- Header -->
    <top>
        <VBox styleClass="header">
            <padding>
                <Insets top="15" right="20" bottom="15" left="20"/>
            </padding>
            
            <HBox alignment="CENTER_LEFT" spacing="15">
                <Label text="ðŸŒ P2P File Sharing" styleClass="app-title">
                    <font>
                        <Font name="System Bold" size="24"/>
                    </font>
                </Label>
                
                <Region HBox.hgrow="ALWAYS"/>
                
                <Label fx:id="peerIdLabel" text="Peer ID: ..." styleClass="peer-info"/>
                <Separator orientation="VERTICAL"/>
                <Label fx:id="statusLabel" text="â— Offline" styleClass="status-offline"/>
            </HBox>
            
            <HBox alignment="CENTER_LEFT" spacing="10" styleClass="info-bar">
                <padding>
                    <Insets top="10"/>
                </padding>
                <Label fx:id="connectedPeersLabel" text="Peers conectaÈ›i: 0"/>
                <Separator orientation="VERTICAL"/>
                <Label fx:id="sharedFilesLabel" text="FiÈ™iere partajate: 0"/>
                <Separator orientation="VERTICAL"/>
                <Label fx:id="availableFilesLabel" text="FiÈ™iere disponibile: 0"/>
            </HBox>
        </VBox>
    </top>
    
    <!-- Main Content -->
    <center>
        <SplitPane dividerPositions="0.5" VBox.vgrow="ALWAYS">
            
            <!-- FiÈ™ierele Mele Partajate -->
            <VBox spacing="10" styleClass="panel">
                <padding>
                    <Insets top="15" right="15" bottom="15" left="15"/>
                </padding>
                
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label text="ðŸ“ FiÈ™ierele Mele Partajate" styleClass="section-title">
                        <font>
                            <Font name="System Bold" size="16"/>
                        </font>
                    </Label>
                    
                    <Region HBox.hgrow="ALWAYS"/>
                    
                    <Button fx:id="addFileButton" text="âž• AdaugÄƒ FiÈ™ier" 
                            onAction="#handleAddFile" styleClass="primary-button"/>
                    <Button fx:id="refreshSharedButton" text="ðŸ”„" 
                            onAction="#handleRefreshShared" styleClass="icon-button">
                        <tooltip>
                            <Tooltip text="RescaneazÄƒ folderul"/>
                        </tooltip>
                    </Button>
                </HBox>
                
                <TableView fx:id="sharedFilesTable" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="sharedNameColumn" text="Nume FiÈ™ier" 
                                   prefWidth="250" minWidth="150"/>
                        <TableColumn fx:id="sharedSizeColumn" text="Dimensiune" 
                                   prefWidth="100" minWidth="80"/>
                        <TableColumn fx:id="sharedHashColumn" text="Hash MD5" 
                                   prefWidth="120" minWidth="100"/>
                    </columns>
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                    </columnResizePolicy>
                </TableView>
                
                <Label fx:id="sharedFolderLabel" text="Folder: ..." 
                       styleClass="folder-path" wrapText="true"/>
            </VBox>
            
            <!-- FiÈ™iere Disponibile Ã®n ReÈ›ea -->
            <VBox spacing="10" styleClass="panel">
                <padding>
                    <Insets top="15" right="15" bottom="15" left="15"/>
                </padding>
                
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label text="ðŸŒ FiÈ™iere Disponibile Ã®n ReÈ›ea" styleClass="section-title">
                        <font>
                            <Font name="System Bold" size="16"/>
                        </font>
                    </Label>
                    
                    <Region HBox.hgrow="ALWAYS"/>
                    
                    <Button fx:id="refreshNetworkButton" text="ðŸ”„ ActualizeazÄƒ" 
                            onAction="#handleRefreshNetwork" styleClass="secondary-button"/>
                    <Button fx:id="downloadButton" text="â¬‡ DescarcÄƒ" 
                            onAction="#handleDownloadFile" styleClass="primary-button"
                            disable="true"/>
                </HBox>
                
                <TableView fx:id="networkFilesTable" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="networkNameColumn" text="Nume FiÈ™ier" 
                                   prefWidth="200" minWidth="150"/>
                        <TableColumn fx:id="networkSizeColumn" text="Dimensiune" 
                                   prefWidth="90" minWidth="80"/>
                        <TableColumn fx:id="networkOwnerColumn" text="De la Peer" 
                                   prefWidth="150" minWidth="120"/>
                        <TableColumn fx:id="networkHashColumn" text="Hash MD5" 
                                   prefWidth="120" minWidth="100"/>
                    </columns>
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                    </columnResizePolicy>
                </TableView>
                
                <Label fx:id="downloadFolderLabel" text="DescÄƒrcÄƒri Ã®n: ..." 
                       styleClass="folder-path" wrapText="true"/>
            </VBox>
            
        </SplitPane>
    </center>
    
    <!-- Footer - Activity Log -->
    <bottom>
        <VBox spacing="5" styleClass="footer">
            <padding>
                <Insets top="10" right="15" bottom="10" left="15"/>
            </padding>
            
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label text="ðŸ“ Activitate" styleClass="section-title">
                    <font>
                        <Font name="System Bold" size="14"/>
                    </font>
                </Label>
                
                <Region HBox.hgrow="ALWAYS"/>
                
                <Button text="ðŸ—‘ CurÄƒÈ›Äƒ" onAction="#handleClearLog" 
                        styleClass="icon-button" prefWidth="60"/>
            </HBox>
            
            <TextArea fx:id="activityLog" editable="false" 
                     wrapText="true" prefHeight="120" styleClass="log-area"/>
        </VBox>
    </bottom>
    
</BorderPane>
